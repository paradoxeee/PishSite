(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1041:function(t,e,n){var content=n(1269);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(11).default)("cd70b012",content,!0,{sourceMap:!1})},1042:function(t,e,n){var content=n(1272);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(11).default)("52c792cc",content,!0,{sourceMap:!1})},1266:function(t,e,n){"use strict";n(1267)("small",(function(t){return function(){return t(this,"small","","")}}))},1267:function(t,e,n){var r=n(24),o=n(64),c=n(158),l=/"/g,d=function(t,e,n,r){var o=String(c(t)),d="<"+e;return""!==n&&(d+=" "+n+'="'+String(r).replace(l,"&quot;")+'"'),d+">"+o+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(d),r(r.P+r.F*o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},1268:function(t,e,n){"use strict";n(1041)},1269:function(t,e,n){var r=n(10),o=n(119),c=n(1270),l=r(!1),d=o(c);l.push([t.i,".CampaignBanner{background-color:var(--ha-color-primary);height:11.25rem;margin-bottom:1.5rem;position:relative}@media(min-width:900px){.CampaignBanner{height:15.625rem}}.CampaignBanner:before{background:url("+d+') 50%;content:"";height:100%;left:0;opacity:.5;pointer-events:none;position:absolute;top:0;width:100%;z-index:1}.CampaignBanner--Image{height:100%;-o-object-fit:cover;object-fit:cover;position:relative;width:100%;z-index:2}',""]),t.exports=l},1270:function(t,e,n){t.exports=n.p+"img/hero-pattern.8726bec.svg"},1271:function(t,e,n){"use strict";n(1042)},1272:function(t,e,n){var r=n(10)(!1);r.push([t.i,".PaymentForm[data-v-d18ad65a]{overflow-x:hidden}",""]),t.exports=r},1416:function(t,e,n){"use strict";n.r(e);var r=n(9),o=(n(37),n(67),n(29),n(19),n(127),n(41),n(28),n(235)),c=n(346),l=n(176),d=n(219),h=n(71),m=n(943),f=(n(1266),n(8)),v={name:"CampaignBanner",mixins:[n(934).a],computed:{organization:function(){return this.$store.getters["organizations/getOrganization"](this.metadata.organization)},form:function(){return this.$store.getters["forms/getForm"](this.metadata)},formTypes:function(){return f.enum.FormType},bannerSize:function(){return{default:{width:1920,height:250},large:{width:1200,height:250},medium:{width:900,height:250},small:{width:600,height:250}}},logo:function(){return this.organization.logo},title:function(){return this.form.title},description:function(){return this.form.description||""}},methods:{getBanner:function(t){switch(t){case"small":return f.functions.getFormBanner(this.form,this.bannerSize.small);case"medium":return f.functions.getFormBanner(this.form,this.bannerSize.medium);case"large":return f.functions.getFormBanner(this.form,this.bannerSize.large);default:return f.functions.getFormBanner(this.form,this.bannerSize.default)}}}},S=(n(1268),n(2)),w=Object(S.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"CampaignBanner"},[e("picture",[e("source",{attrs:{srcset:t.getBanner("small"),media:"(max-width: 599px)"}}),t._v(" "),e("source",{attrs:{srcset:t.getBanner("medium"),media:"(min-width: 600px) and (max-width: 899px)"}}),t._v(" "),e("source",{attrs:{srcset:t.getBanner("large"),media:"(min-width: 900px) and (max-width: 1199px)"}}),t._v(" "),e("img",{staticClass:"CampaignBanner--Image",attrs:{src:t.getBanner(),alt:"",loading:"lazy"}})])])}),[],!1,null,null,null).exports,x=n(1084),z=n(1076),C=n(1078),O=n(1077),y=n(234),_=n(26),B=n(184),$=n(1038)("ha-forms:_steps"),F={name:"Steps",components:{StepperView:z.a,StepperBanner:w,FormPublishState:x.a,DonationView:C.a,SaleView:O.a},meta:{requiresAuth:!1},props:{errorStatus:{type:[String,Number],required:!1}},setup:function(){var t,e=Object(l.a)(),form=e.form,n=e.organization,r=e.user,o=Object(c.a)(),d=o.isSale,h=o.isDonation,m=o.isShop,f=o.isCrowdfunding,v=Object(y.a)().trackingIdentify,S=Object(_.D)(),w=S.setUser,x=S.setOrganizations,z=S.isLoadingUser;return null!==(t=r.value)&&void 0!==t&&t.userId&&v(r.value.userId,{userId:r.value.userId}),{form:form,organization:n,user:r,isSale:d,isDonation:h,isShop:m,isCrowdfunding:f,setUser:w,setOrganizations:x,isLoadingUser:z}},asyncData:function(t){var e,n,r=t.params;return{organizationSlug:null===(e=r.organizationSlug)||void 0===e?void 0:e.replace(/\s/g,"-"),campaignSlug:null===(n=r.campaignSlug)||void 0===n?void 0:n.replace(/\s/g,"-"),type:r.formType}},fetch:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c,l,h,m,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.store,l=t.params,h=t.error,m=t.app,f=null===(n=l.organizationSlug)||void 0===n?void 0:n.replace(/\s/g,"-"),v={organization:f,slug:null===(r=l.campaignSlug)||void 0===r?void 0:r.replace(/\s/g,"-"),type:o.g[l.formType]},e.prev=3,e.next=6,c.dispatch("forms/fetchFormIfNeeded",v);case 6:if(!Object(d.c)(m.$cookies)){e.next=9;break}return e.next=9,c.dispatch("user/fetchMeIfNeeded");case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),B.a.isProduction||$(e.t0),e.abrupt("return",h(e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))()},computed:{formSteps:function(){return!this.isShop&&!this.isCrowdfunding||this.hasCustomFieldsOrOptions?m.a[this.metadata.type]:m.a[this.metadata.type].filter((function(t,e){return 1!==e}))},hasCustomFieldsOrOptions:function(){var t;return!(null===(t=this.form)||void 0===t||null===(t=t.tiers)||void 0===t||!t.find((function(t){var e,n;return(null===(e=t.customFields)||void 0===e?void 0:e.length)||(null===(n=t.extraOptions)||void 0===n?void 0:n.length)})))},step:function(){return parseInt(this.$route.params.steps,10)||1},baseCampaignUrl:function(){return"/associations/".concat(this.organizationSlug,"/").concat(this.type,"/").concat(this.campaignSlug)},isUnPublished:function(){var t;return["Draft","Disabled","Deleted"].includes(null===(t=this.form)||void 0===t?void 0:t.state)}},jsonld:function(){return Object(h.h)(this.form,this.organization)},created:function(){"EnglishRoute"===this.$route.name?this.$i18n.setLocale("en"):this.$i18n.setLocale("fr")},mounted:function(){this.scrollIntoTargetElement(),this.$gtm.push("realytics-default");var t=this.$store.getters["user/getUserOrganizations"]().length,e=this.$nuxt.context.app.$cookies;Object(d.c)(e)&&(this.isLoadingUser=!0,this.setUser(this.$store.getters["user/getMe"]()),t&&this.setOrganizations(this.$store.getters["user/getUserOrganizations"]()),this.isLoadingUser=!1)},methods:{navigate:function(t){this.$router.push({path:"".concat(this.baseCampaignUrl,"/").concat(t)})},getCurrentStepComponent:function(){var t,e,n;return this.step<=(null===(t=this.formSteps)||void 0===t?void 0:t.length)?null===(n=this.formSteps[this.step-1])||void 0===n?void 0:n.component:null===(e=this.formSteps[0])||void 0===e?void 0:e.component},scrollIntoTargetElement:function(){var t=this.$route,e=t.hash,n=t.params,r=this.$el.querySelector(e||"#anchorToTickets"),o=!(!n.steps||!r);(!(!e||!r)||o)&&setTimeout((function(){var t=e?0:-80,n=r.getBoundingClientRect().top+window.pageYOffset+t;window.scroll({top:n})}))}}},j=(n(1271),Object(S.a)(F,(function(){var t=this,e=t._self._c;return e("main",{class:"".concat(t.form.formType)},[t.isDonation||t.isSale?t._e():e("StepperBanner"),t._v(" "),e("div",{staticClass:"CampaignWrapper Container"},[t.isUnPublished?e("FormPublishState",{attrs:{state:t.form.state}}):t._e(),t._v(" "),t.isDonation||t.isSale?t._e():e("StepperView",{attrs:{step:t.step,navigate:t.navigate,"current-step-component":t.getCurrentStepComponent()}}),t._v(" "),t.isDonation?e("DonationView"):t._e(),t._v(" "),t.isSale?e("SaleView"):t._e()],1)],1)}),[],!1,null,"d18ad65a",null));e.default=j.exports},934:function(t,e,n){"use strict";n(62),n(41);e.a={methods:{resizedSrc:function(t,e){var n=t&&t.includes("?")?"&":"?";return t+n+"resize=fill:".concat(e.width,":").concat(e.height)}}}}}]);